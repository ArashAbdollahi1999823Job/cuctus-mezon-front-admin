<div class="body-component">
  <div>
    <form [formGroup]="userEditForm" (ngSubmit)="userEdit()">
      <div class="body-form">
        <div class="body-input">
          <label for="phoneNumber">شماره موبایل</label>
          <input type="text" id="phoneNumber" formControlName="phoneNumber" [ngClass]="
                     userEditForm.controls.phoneNumber.touched && userEditForm.controls.phoneNumber.errors?.required
                     || userEditForm.controls.phoneNumber.errors?.maxlength ||
                     userEditForm.controls.phoneNumber.errors?.minlength ? 'input-error' :'input-success'">
          <div class="error"
               *ngIf="userEditForm.controls.phoneNumber.errors?.required &&userEditForm.controls.phoneNumber.touched">
            لطفا شماره را وارد کنید !
          </div>
          <div class="error" *ngIf=" userEditForm.controls.phoneNumber.hasError('maxlength')">تعداد
            کاراکتر ها نمیتواند بیشتر از 11 باشد !
          </div>
          <div class="error" *ngIf=" userEditForm.controls.phoneNumber.hasError('minlength')">تعداد
            کاراکتر ها نمیتواند کمتر از 11 باشد !
          </div>
          <div class="error" *ngIf=" userEditForm.controls.phoneNumber.hasError('pattern')">شماره همراه صحیح نمیباشد !
          </div>
        </div>
        <div class="body-input">
          <label for="description">توضیحات</label>
          <input type="text" placeholder="توضیحات..." id="description" formControlName="description" [ngClass]="
                     userEditForm.controls.description.touched && userEditForm.controls.description.errors?.required
                     || userEditForm.controls.description.errors?.maxlength ||
                     userEditForm.controls.description.errors?.minlength ? 'input-error' :'input-success'">
          <div class="error"
               *ngIf="userEditForm.controls.description.errors?.required &&userEditForm.controls.description.touched">
            لطفا توضیحات را وارد کنید !
          </div>
          <div class="error" *ngIf=" userEditForm.controls.description.hasError('maxlength')">تعداد
            کاراکتر ها نمیتواند بیشتر از 500 باشد !
          </div>
          <div class="error" *ngIf=" userEditForm.controls.description.hasError('minlength')">تعداد
            کاراکتر ها نمیتواند کمتر از 10 باشد !
          </div>
        </div>
        <div class="body-input">
          <label for="userName">نام کاربری </label>
          <input type="text" placeholder="نام کاربری ..." id="userName" formControlName="userName" [ngClass]="
                     userEditForm.controls.userName.touched && userEditForm.controls.userName.errors?.required
                     || userEditForm.controls.userName.errors?.maxlength ||
                     userEditForm.controls.userName.errors?.minlength ? 'input-error' :'input-success'">
          <div class="error"
               *ngIf="userEditForm.controls.userName.errors?.required &&userEditForm.controls.userName.touched">
            لطفا گذرواژه را وارد کنید !
          </div>
          <div class="error" *ngIf=" userEditForm.controls.userName.hasError('maxlength')">تعداد
            کاراکتر ها نمیتواند بیشتر از 30 باشد !
          </div>
          <div class="error" *ngIf=" userEditForm.controls.userName.hasError('minlength')">تعداد
            کاراکتر ها نمیتواند کمتر از 8 باشد !
          </div>
        </div>
        <div class="body-input">
          <label for="name">نام و نام خانوادگی </label>
          <input type="text" placeholder="نام و نام خانوادگی ..." id="name" formControlName="name" [ngClass]="
                     userEditForm.controls.name.touched && userEditForm.controls.name.errors?.required
                     || userEditForm.controls.name.errors?.maxlength ||
                     userEditForm.controls.name.errors?.minlength ? 'input-error' :'input-success'">
          <div class="error"
               *ngIf="userEditForm.controls.name.errors?.required &&userEditForm.controls.name.touched">
            لطفا نام و نام خانوادگی را وارد کنید !
          </div>
          <div class="error" *ngIf=" userEditForm.controls.name.hasError('maxlength')">تعداد
            کاراکتر ها نمیتواند بیشتر از 30 باشد !
          </div>
          <div class="error" *ngIf=" userEditForm.controls.name.hasError('minlength')">تعداد
            کاراکتر ها نمیتواند کمتر از38 باشد !
          </div>
        </div>
        <div class="body-input">
          <label for="password">گذرواژه</label>
          <input type="text" placeholder="پسوورد ..." id="password" formControlName="password" [ngClass]="
                     userEditForm.controls.password.touched && userEditForm.controls.password.errors?.required
                     || userEditForm.controls.password.errors?.maxlength ||
                     userEditForm.controls.password.errors?.minlength ? 'input-error' :'input-success'">
          <div class="error"
               *ngIf="userEditForm.controls.password.errors?.required &&userEditForm.controls.password.touched">
            لطفا گذرواژه را وارد کنید !
          </div>
          <div class="error" *ngIf=" userEditForm.controls.password.hasError('maxlength')">تعداد
            کاراکتر ها نمیتواند بیشتر از 30 باشد !
          </div>
          <div class="error" *ngIf=" userEditForm.controls.password.hasError('minlength')">تعداد
            کاراکتر ها نمیتواند کمتر از 8 باشد !
          </div>
        </div>

        <div class="body-input-confirm">
          <label for="phoneNumberConfirmed">تایید شماره تلفن</label>
          <input type="checkbox" id="phoneNumberConfirmed" formControlName="phoneNumberConfirmed">
        </div>
        <div class="body-input-role">
          <label>نقش کاریر</label>
          <div formGroupName="roles" class="body-role">
            <div class="body-input-role">
              <label class="label-role" for="boss">مدیر</label>
              <input type="checkbox" id="boss" formControlName="boss">
            </div>
            <div class="body-input-role">
              <label for="boss">پشتیبان</label>
              <input type="checkbox" formControlName="admin">
            </div>
            <div class="body-input-role">
              <label for="boss">فروشنده</label>
              <input type="checkbox" formControlName="seller">
            </div>
            <div class="body-input-role">
              <label for="boss">کاربر</label>
              <input type="checkbox" formControlName="user">
            </div>
          </div>
          <button type="submit" class="btn" [disabled]="!userEditForm.valid"
                  [ngClass]="!userEditForm.valid ? 'disable':''">ثبت کاربر
          </button>
        </div>
      </div>
    </form>
  </div>

  <div>
    <div class="image">
      <img *ngIf="userDto?.userPictureDto" src="{{backendUrlPicture}}{{userDto?.userPictureDto?.pictureUrl}}" width="300px"
           height="300px">
    </div>

    <div class="btn-image">
      <form [formGroup]="userPictureAddForm" (ngSubmit)="userPictureAdd()">
        <label *ngIf="!userDto?.userPictureDto" for="images" class="drop-container">
          <span class="drop-title">افزودن عکس</span>
          or
          <input type="file" id="images" formControlName="file" accept="image/png, image/gif, image/jpeg" (change)="onFileChange($event)"  required
                 [ngClass]="
                     userPictureAddForm.controls.file.touched && userPictureAddForm.controls.file.errors?.required ? 'input-error' :'input-success'">
        </label>
        <button *ngIf="!userDto?.userPictureDto" class="btn-add" [disabled]="!userPictureAddForm.valid" [ngClass]="!userPictureAddForm.valid ? 'disable':''">ثبت عکس</button>
      </form>
      <button *ngIf="userDto?.userPictureDto" class="btn-delete" (click)="userPictureDelete(userDto?.userPictureDto?.id)">حذف عکس</button>
    </div>

  </div>
</div>

